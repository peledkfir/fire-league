<ol class="breadcrumb">
  <li class="active">Leagues</li>
</ol>

<div class="row">
	<div class="col-lg-12">
		<div class="panel panel-default">
			<div class="panel-heading"><i class="icon icon-trophy fa-lg fa-fw"></i> Leagues 
				<div class="pull-right"><button type="button" ng-if="$root.auth.user" ui-sref="leagueCreate" class="btn btn-xs btn-default"><i class="fa fa-pencil"></i> Create New</button></div>
			</div>
			<div class="panel-body">
				<div class="text-center" ng-show="loading">
					<i class="fa-5x" fl-spinner></i>
				</div>
			</div>
			<table class="table table-hover" ng-hide="loading">
				<tbody>
					<tr ng-repeat="league in leagues" ui-sref="league({league: league.name})" class="clickable">
						<td>{{league.name}}</td>
						<td><span tooltip="Friends"><i class="fa fa-users"></i> {{keys(league.friends).length}}</span></td>
						<td>
							<div class="pull-right" ng-if="isOwner(league, $root.auth)">
				                <button type="button" class="btn btn-default btn-xs" ui-sref="league.edit({league: league.name})" ng-click="$event.stopPropagation()"><i class="fa fa-edit"></i> Edit</button>
							    <button type="button" class="btn btn-danger btn-xs" ng-click="deleteModal($event, league)"><i class="fa fa-trash-o"></i> Delete</button>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>